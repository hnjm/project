%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Arsclassica Article
% LaTeX Template
% Version 1.1 (1/8/17)
%
% This template has been downloaded from:
% http://www.LaTeXTemplates.com
%
% Original author:
% Lorenzo Pantieri (http://www.lorenzopantieri.net) with extensive modifications by:
% Vel (vel@latextemplates.com)
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass[
12pt, % Main document font size
a4paper, % Paper type, use 'letterpaper' for US Letter paper
oneside, % One page layout (no page indentation)
headinclude,footinclude, % Extra spacing for the header and footer
BCOR5mm, % Binding correction
german]{scrartcl}


\usepackage[onehalfspacing]{setspace}
\usepackage{mathtools}
\usepackage[export]{adjustbox}
\usepackage{babel,varioref}
\addto\extrasgerman{% page 5 of varioref's manual
  \renewcommand\reftextfaceafter{auf der n{\"a}chsten Seite}%
  \renewcommand\reftextafter {auf der n{\"a}chsten Seite}%
  \renewcommand\reftextfacebefore{auf der vorherigen Seite}%
  \renewcommand\reftextbefore {auf der vorherigen Seite}%
  \renewcommand\reftextcurrent {auf dieser Seite}%
}
\usepackage{listings}
\input{structure.tex} % Include the structure.tex file which specified the document structure and layout

\hyphenation{Fortran hy-phen-ation} % Specify custom hyphenation points in words with dashes where you would like hyphenation to occur, or alternatively, don't put any dashes in a word to stop hyphenation altogether

%----------------------------------------------------------------------------------------
%	TITLE AND AUTHOR(S)
%----------------------------------------------------------------------------------------

\title{\normalfont\spacedallcaps{Image deobfuscation of Gaussian Blur and Mosaic}} % The article title

%\subtitle{Subtitle} % Uncomment to display a subtitle
\author{Antonio Galeazzi (inf102867@fh-wedel.de) \\ und \\ Till Hildebrandt (inf102835@fh-wedel.de)}

\date{} % An optional date to appear under the author(s)

%----------------------------------------------------------------------------------------

\usepackage[font=small,labelfont=bf]{caption}
\begin{document}
%----------------------------------------------------------------------------------------
%	HEADERS
%----------------------------------------------------------------------------------------

\renewcommand{\sectionmark}[1]{\markright{\spacedlowsmallcaps{#1}}} % The header for all pages (oneside) or for even pages (twoside)
\renewcommand{\lstlistingname}{Code-Auszug}%
\lstset{basicstyle=\ttfamily,
  showstringspaces=false,
  commentstyle=\color{red},
  keywordstyle=\color{blue}
}
\lehead{\mbox{\llap{\small\thepage\kern1em\color{halfgray} \vline}\color{halfgray}\hspace{0.5em}\rightmark\hfil}} % The header style

\pagestyle{scrheadings} % Enable the headers specified in this block

\captionsetup[figure]{labelfont={bf},name={Abbildung}}
\newcommand\amusingversion[2]{%
    \vrefpagenum\firstnum{#1}%
    \vrefpagenum\secondnum{#2}%
    \ifthenelse{\equal\firstnum\secondnum}%
    {s of \ref{#1} and \ref{#2} \vpageref{#1}}%
    { of \ref{#1} \vpageref{#1} and of \ref{#2} \vpageref{#2}}%
    }


%----------------------------------------------------------------------------------------
%	TABLE OF CONTENTS & LISTS OF FIGURES AND TABLES
%----------------------------------------------------------------------------------------

\maketitle % Print the title/author/date block

\setcounter{tocdepth}{2} % Set the depth of the table of contents to show sections and subsections only

\tableofcontents % Print the table of contents

\listoffigures % Print the list of figures

\listoftables % Print the list of tables


%----------------------------------------------------------------------------------------

\newpage % Start the article content on the second page, remove this if you have a longer abstract that goes onto the second page

%----------------------------------------------------------------------------------------
%	INTRODUCTION
%----------------------------------------------------------------------------------------
\input{sections/introdcution.tex}


\section{Datenquellen und Aufbereitung}

Als grundlegende Datenquelle wurde die
\textit{color FERET Database} \footnote{NIST, color FERET Database. (https://www.nist.gov/itl/iad/image-group/color-feret-database)},
die von dem National Institute of Standards and Technology veröffentlicht wurde, verwendet.
Die Datenbank umfasst 11.338 Gesichtsbilder von 1.208 Menschen und
hält neben Metadaten über Pose, Geschlecht, Ethnie und Alter auch weiterführende Daten bereit wie Augenposition und
Kamerawinkel. Die Daten liegen im Portable Pixmap Format RGB- und im Graustufenformat in einer vor Auflösung von 512x768 Pixeln vor.

Um trotz der vergleichsweise geringen Datenmenge. Vergleichbare Projekte
\footnote{Richard McPherson, Rezar Shokri, Vitali Shmatikov, Defeating Image Obfuscation with Deep Learning. (https://arxiv.org/pdf/1609.00408.pdf)}$^{,}$\footnote{"Jenkspt", Enhancher. (https://github.com/jenkspt/enhancer)}
verwenden hingegen 60.000 bis 300.000 Bilder.
interpretierbare Ergebnisse erzielen zu können, beschränkt sich diese Arbeit auf
die Verwendung möglichst homogener Bilder unterschiedlicher Personen. Von besonderem Interesse ist hierbei die Pose des
Abgebildeten. Die Datenbank unterscheidet Frontal- und Profilbilder sowie Bilder, in denen der Kopf um einen bestimmten
Winkel gedreht ist. Als grundlegenden Datensatz wurde sich für die Frontalbilder entschieden, da diese mit 2.722 Bilder
von 994 Personen den großten Teildatensatz ausmachen.

Die benötigten Testdatensätze wurde mithilfe von ImageMagick [11] in Version x.y. aufbereitet. Um die Komplexität der
Problemstellung weiter zu reduzieren, wurden die Bilder grauskaliert und auf 12,5\% der Ursprungsgröße skaliert, sodass
die Trainigsdaten noch eine Auflösung von 64x96 Pixeln haben. Es wurden vier unterschiedliche Testdatensätze mit
folgenden Commandline-Befehlen generiert \footnote{Das folgende BASH-Skript scripts/create\_images.sh erzeugt die
Testdaten. Notwendig hierfür sind die Pakete "imagemagick" und "imagemagick-doc".}:

\begin{lstlisting}[language=bash,caption={convert - Synopsis}]
convert [input-options] input-file [output-options] output-file
\end{lstlisting}

\begin{minipage}{\linewidth}
\begin{lstlisting}[language=bash,caption={Testdatenerstellung - Graustufen}]
#!/bin/bash

# every call scales the input image down to 12.5% of its
# original size and grayscales it.

# convert test data:  gaussian-blur (sigma = 3)
convert <input_file.ppm> \
    -set colorspace Gray \
    -separate \
    -average \
    -scale 12.5\% \
    -gaussian-blur 0x3 \
    <output_file.pgm>; mv <output_file.pgm> <output_file.ppm>

# convert test data:  gaussian-blur (sigma = 6)
convert <input_file.ppm> \
    -set colorspace Gray \
    -separate \
    -average \
    -scale 12.5\% \
    -gaussian-blur 0x6 \
    <output_file.pgm>; mv <output_file.pgm> <output_file.ppm>

# convert test data:  pixelization (edge length = 5px)
convert <input_file.ppm> \
    -set colorspace Gray \
    -separate \
    -average \
    -scale 12.5\% \
    -scale $(( bc <<< "scale=100;100/5" ))\% \
    -scale 500\% \
    <output_file.pgm>; mv <output_file.pgm> <output_file.ppm>

# convert test data:  pixelization (edge length = 10px)
convert <input_file.ppm> \
    -set colorspace Gray \
    -separate \
    -average \
    -scale 12.5\% \
    -scale $(( bc <<< "scale=100;100/10" ))\% \
    -scale 1000\% \
    <output_file.pgm>; mv <output_file.pgm> <output_file.ppm>
\end{lstlisting}
\end{minipage}







\subsection{Paragraphs}

\lipsum[6] % Dummy text

\paragraph{Paragraph Description} \lipsum[7] % Dummy text

\paragraph{Different Paragraph Description} \lipsum[8] % Dummy text

%------------------------------------------------

\subsection{Math}

\lipsum[4] % Dummy text

\begin{equation}
\cos^3 \theta =\frac{1}{4}\cos\theta+\frac{3}{4}\cos 3\theta
\label{eq:refname2}
\end{equation}

\lipsum[5] % Dummy text

\begin{definition}[Gauss]
To a mathematician it is obvious that
$\int_{-\infty}^{+\infty}
e^{-x^2}\,dx=\sqrt{\pi}$.
\end{definition}

\begin{theorem}[Pythagoras]
The square of the hypotenuse (the side opposite the right angle) is equal to the sum of the squares of the other two sides.
\end{theorem}

\begin{proof}
We have that $\log(1)^2 = 2\log(1)$.
But we also have that $\log(-1)^2=\log(1)=0$.
Then $2\log(-1)=0$, from which the proof.
\end{proof}

%----------------------------------------------------------------------------------------
%	RESULTS AND DISCUSSION
%----------------------------------------------------------------------------------------

\section{Results and Discussion}

Reference to Figure~\vref{fig:gallery}. % The \vref command specifies the location of the reference

\begin{figure}[tb]
\centering
%\includegraphics[width=0.5\columnwidth]{GalleriaStampe}
\caption[An example of a floating figure]{An example of a floating figure (a reproduction from the \emph{Gallery of prints}, M.~Escher,\index{Escher, M.~C.} from \url{http://www.mcescher.com/}).} % The text in the square bracket is the caption for the list of figures while the text in the curly brackets is the figure caption
\label{fig:gallery}
\end{figure}

\lipsum[10] % Dummy text

%------------------------------------------------

\subsection{Subsection}

\lipsum[11] % Dummy text

\subsubsection{Subsubsection}

\lipsum[12] % Dummy text

\begin{description}
\item[Word] Definition
\item[Concept] Explanation
\item[Idea] Text
\end{description}

\lipsum[12] % Dummy text

\begin{itemize}[noitemsep] % [noitemsep] removes whitespace between the items for a compact look
\item First item in a list
\item Second item in a list
\item Third item in a list
\end{itemize}

\subsubsection{Table}

\lipsum[13] % Dummy text

\begin{table}[hbt]
\caption{Table of Grades}
\centering
\begin{tabular}{llr}
\toprule
\multicolumn{2}{c}{Name} \\
\cmidrule(r){1-2}
First name & Last Name & Grade \\
\midrule
John & Doe & $7.5$ \\
Richard & Miles & $2$ \\
\bottomrule
\end{tabular}
\label{tab:label}
\end{table}

Reference to Table~\vref{tab:label}. % The \vref command specifies the location of the reference

%------------------------------------------------

\subsection{Figure Composed of Subfigures}

Reference the figure composed of multiple subfigures as Figure~\vref{fig:esempio}. Reference one of the subfigures as Figure~\vref{fig:ipsum}. % The \vref command specifies the location of the reference

\lipsum[15-18] % Dummy text

\begin{figure}[tb]
\centering
%\subfloat[A city market.]{\includegraphics[width=.45\columnwidth]{Lorem}} \quad
%\subfloat[Forest landscape.]{\includegraphics[width=.45\columnwidth]{Ipsum}\label{fig:ipsum}} \\
%\subfloat[Mountain landscape.]{\includegraphics[width=.45\columnwidth]{Dolor}} \quad
%\subfloat[A tile decoration.]{\includegraphics[width=.45\columnwidth]{Sit}}
\caption[A number of pictures.]{A number of pictures with no common theme.} % The text in the square bracket is the caption for the list of figures while the text in the curly brackets is the figure caption
\label{fig:esempio}
\end{figure}

%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%----------------------------------------------------------------------------------------

\renewcommand{\refname}{\spacedlowsmallcaps{References}} % For modifying the bibliography heading

\bibliographystyle{unsrt}

\bibliography{sample.bib} % The file containing the bibliography

%----------------------------------------------------------------------------------------

\end{document}